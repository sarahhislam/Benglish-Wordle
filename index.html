<!---
MIST 2026 / Bangladesh Wordle ‚Äì Clean, Wordle-like version
- Matches website theme (minimal, elegant)
- Type directly into squares (no text box)
- Light/Dark mode toggle
- Confetti celebration when you win
--->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Bangladesh Wordle</title>
  <style>
    :root {
      --bg-dark: #121213;
      --text-dark: #ffffff;
      --tile-border-dark: #3a3a3c;
      --green: #6aaa64;
      --yellow: #c9b458;
      --gray: #3a3a3c;
      --bg-light: #ffffff;
      --text-light: #000000;
      --tile-border-light: #d3d6da;
    }

    body {
      font-family: "Clear Sans", "Helvetica Neue", Arial, sans-serif;
      background-color: var(--bg-dark);
      color: var(--text-dark);
      text-align: center;
      margin: 0;
      padding: 0;
      transition: background-color 0.4s, color 0.4s;
    }

    h1 {
      font-size: 2.2em;
      margin: 20px 0 10px 0;
      font-weight: bold;
      letter-spacing: 1px;
    }

    p {
      color: #d7dadc;
      font-size: 1em;
      font-style: italic;
      margin-bottom: 15px;
    }

    #board {
      display: grid;
      grid-template-rows: repeat(6, 1fr);
      grid-gap: 8px;
      justify-content: center;
      margin-top: 20px;
    }

    .row {
      display: flex;
      justify-content: center;
      gap: 5px;
    }

    .square {
      width: 62px;
      height: 62px;
      font-size: 30px;
      font-weight: bold;
      border: 2px solid var(--tile-border-dark);
      border-radius: 4px;
      text-transform: uppercase;
      display: flex;
      justify-content: center;
      align-items: center;
      box-sizing: border-box;
      transition: all 0.3s ease;
    }

    @keyframes flip {
      0% { transform: rotateX(0); }
      50% { transform: rotateX(90deg); }
      100% { transform: rotateX(0); }
    }

    .green { background-color: var(--green); border: none; color: white; }
    .yellow { background-color: var(--yellow); border: none; color: white; }
    .gray { background-color: var(--gray); border: none; color: white; }

    #keyboard {
      margin-top: 25px;
    }

    .key-row {
      display: flex;
      justify-content: center;
      margin-bottom: 5px;
      gap: 5px;
    }

    .key {
      padding: 10px 12px;
      border-radius: 4px;
      border: none;
      background-color: #818384;
      color: white;
      font-weight: bold;
      cursor: pointer;
      text-transform: uppercase;
      font-family: inherit;
      transition: background-color 0.2s;
    }

    .key.green { background-color: var(--green); }
    .key.yellow { background-color: var(--yellow); }
    .key.gray { background-color: var(--gray); }

    .key:hover { opacity: 0.8; }

    #message {
      margin-top: 20px;
      font-size: 20px;
      font-weight: bold;
    }

    #themeToggle {
      position: fixed;
      top: 10px;
      right: 10px;
      padding: 6px 12px;
      border-radius: 5px;
      border: none;
      background-color: var(--green);
      color: white;
      font-weight: bold;
      cursor: pointer;
      transition: 0.3s;
    }

    #themeToggle:hover {
      background-color: #538d4e;
    }

    /* Confetti Canvas */
    #confettiCanvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 9999;
    }
  </style>
</head>
<body>
  <button id="themeToggle">üåô Dark</button>
  <h1>Bangladesh Wordle</h1>
  <p>Guess the 5-letter Bangla transliterated word! One word per day. You have 6 tries.</p>

  <div id="board"></div>
  <div id="keyboard"></div>
  <p id="message"></p>
  <canvas id="confettiCanvas"></canvas>

  <script>
    // üåæ Word list
    const WORDS = ["pitha","misti","chaal","bhuna","rosha","basha","chaad","maach","ghore",
      "aluva","boroi","lassi","chaap","paani","pukur","polao","tikka","bhaji","kajol",
      "kapor","rangx","boish","bhata","chaay","phool","pakhi","jibon","shanti","golpo",
      "bristi","megha","mukti","kolom","shukh","dukho","ganga"];

    const startDate = new Date("2025-01-01");
    const today = new Date();
    const dayIndex = Math.floor((today - startDate) / (1000 * 60 * 60 * 24));
    const TARGET = WORDS[dayIndex % WORDS.length];
    const MAX_GUESSES = 6;
    let currentRow = 0;
    let currentGuess = "";

    // üåø Build game board
    const board = document.getElementById("board");
    for (let i = 0; i < MAX_GUESSES; i++) {
      const row = document.createElement("div");
      row.classList.add("row");
      for (let j = 0; j < 5; j++) {
        const sq = document.createElement("div");
        sq.classList.add("square");
        row.appendChild(sq);
      }
      board.appendChild(row);
    }

    // üåø Keyboard
    const keyboardLayout = [
      ["Q","W","E","R","T","Y","U","I","O","P"],
      ["A","S","D","F","G","H","J","K","L"],
      ["ENTER","Z","X","C","V","B","N","M","‚å´"]
    ];
    const keyboardDiv = document.getElementById("keyboard");
    keyboardLayout.forEach(row => {
      const rowDiv = document.createElement("div");
      rowDiv.classList.add("key-row");
      row.forEach(k => {
        const key = document.createElement("button");
        key.classList.add("key");
        key.textContent = k;
        key.dataset.key = k.toLowerCase();
        key.onclick = () => handleKey(k.toLowerCase());
        rowDiv.appendChild(key);
      });
      keyboardDiv.appendChild(rowDiv);
    });

    // üåø Input handling
    document.addEventListener("keydown", e => handleKey(e.key.toLowerCase()));

    function handleKey(k) {
      if (/^[a-z]$/.test(k)) {
        if (currentGuess.length < 5) {
          currentGuess += k;
          updateBoard();
        }
      } else if (k === "backspace" || k === "‚å´") {
        currentGuess = currentGuess.slice(0, -1);
        updateBoard();
      } else if (k === "enter") {
        submitGuess();
      }
    }

    function updateBoard() {
      const rows = document.querySelectorAll(".row");
      const squares = rows[currentRow].children;
      for (let i = 0; i < 5; i++) {
        squares[i].textContent = currentGuess[i] ? currentGuess[i].toUpperCase() : "";
      }
    }

    function evaluateGuess(guess, target) {
      let result = Array(5).fill("gray");
      let targetList = target.split("");
      for (let i = 0; i < 5; i++) {
        if (guess[i] === target[i]) {
          result[i] = "green";
          targetList[i] = null;
        }
      }
      for (let i = 0; i < 5; i++) {
        if (result[i] === "gray" && targetList.includes(guess[i])) {
          result[i] = "yellow";
          targetList[targetList.indexOf(guess[i])] = null;
        }
      }
      return result;
    }

    function submitGuess() {
      if (currentGuess.length !== 5) return;
      const result = evaluateGuess(currentGuess, TARGET);
      const rows = document.querySelectorAll(".row");
      const squares = rows[currentRow].children;
      for (let i = 0; i < 5; i++) {
        squares[i].classList.add(result[i]);
        squares[i].style.animation = "flip 0.5s ease";
      }
      if (currentGuess === TARGET) {
        document.getElementById("message").innerText = `üéâ You guessed it! (${TARGET})`;
        startConfetti();
        document.removeEventListener("keydown", handleKey);
      } else if (currentRow === MAX_GUESSES - 1) {
        document.getElementById("message").innerText = `‚ùå Out of guesses. The word was ${TARGET.toUpperCase()}`;
      }
      currentGuess = "";
      currentRow++;
    }

    // üåø Confetti celebration
    const confettiCanvas = document.getElementById("confettiCanvas");
    const ctx = confettiCanvas.getContext("2d");
    confettiCanvas.width = window.innerWidth;
    confettiCanvas.height = window.innerHeight;
    let confetti = [];

    function startConfetti() {
      confetti = Array.from({length:150}, () => ({
        x: Math.random() * confettiCanvas.width,
        y: Math.random() * confettiCanvas.height - 100,
        r: Math.random() * 6 + 2,
        color: ['#6aaa64','#c9b458','#538d4e','#b59f3b'][Math.floor(Math.random()*4)],
        tilt: Math.random() * 10 - 10,
        tiltAngle: 0,
        tiltIncrement: Math.random()*0.07+0.05
      }));
      drawConfetti();
      setTimeout(()=>confetti=[],5000);
    }

    function drawConfetti() {
      ctx.clearRect(0,0,confettiCanvas.width,confettiCanvas.height);
      confetti.forEach(p=>{
        ctx.beginPath();
        ctx.lineWidth=p.r;
        ctx.strokeStyle=p.color;
        ctx.moveTo(p.x+p.tilt+p.r/2,p.y);
        ctx.lineTo(p.x+p.tilt,p.y+p.tilt+p.r/2);
        ctx.stroke();
      });
      updateConfetti();
      if (confetti.length>0) requestAnimationFrame(drawConfetti);
    }

    function updateConfetti(){
      confetti.forEach(p=>{
        p.tiltAngle+=p.tiltIncrement;
        p.y+=(Math.cos(p.tiltAngle)+3+p.r/2)*0.5;
        p.tilt=Math.sin(p.tiltAngle)*12;
        if(p.y>confettiCanvas.height)p.y=-10;
      });
    }

    // üåø Light/Dark Mode Toggle
    const toggle = document.getElementById("themeToggle");
    let dark = true;
    toggle.onclick = () => {
      dark = !dark;
      document.body.style.backgroundColor = dark ? "var(--bg-dark)" : "var(--bg-light)";
      document.body.style.color = dark ? "var(--text-dark)" : "var(--text-light)";
      document.querySelectorAll(".square").forEach(sq=>{
        sq.style.borderColor = dark ? "var(--tile-border-dark)" : "var(--tile-border-light)";
      });
      toggle.textContent = dark ? "üåô Dark" : "‚òÄÔ∏è Light";
    };
  </script>
</body>
</html>

